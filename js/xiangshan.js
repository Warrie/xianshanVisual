/**
 * Created by Administrator on 2017/3/22/022.
 */

//乡镇选择部分

var townsid = [
    '象山县',
    '丹西街道',
    '丹东街道',
    '定塘镇',
    '爵溪街道',
    '泗洲头镇',
    '经开区',
    '涂茨镇',
    '东陈乡',
    '茅洋乡',
    '西周镇',
    '大徐镇',
    '新桥镇',
    '高塘岛乡',
    '石浦镇',
    '黄避岙乡',
    '晓塘乡',
    '鹤浦镇',
    '墙头镇',
    '贤庠镇' ];

console.log(townsid.length);
console.log(map_data.length);
var mapTownsScore = [] ;


for (var i = 0 ; i < townsid.length ; i++){
	
	  // var getshowdata_linnshi = gettownsscoresdata( 1 , townsid[i] ) ;

	  mapTownsScore.push(
		{

			"classname" : townsid[i] ,
            //总分就当所有服务的平均值
            //twon[i]  map_data[i].value[0]这个数组算平均值 .reduce(function(x,y){return x+y}
			"totalscore"  : (function(j){
			    console.log("map_data[j].value[0]=="+map_data[j].value[0]);
			    console.log(map_data[j].value[0].reduce(function(x,y){return x+y}));
			    var scoresum=map_data[j].value[0].reduce(function(x,y){return x+y});
			    var scoreavrr=scoresum/(map_data[j].value[0].length);
			    return scoreavrr.toFixed(2);
            }(i)),

		});	 
		
}
//取数据经济或民生，数组中0为经济
function gettownsscoresdata(qnaierID, townsname){
	var getshowdata_data = [];
	$.ajax({
		url : "/IntelligentDecision-web/answer/getTownsAnswer1.do",
		data : {
			questionnaireID : qnaierID,
			towns : townsname
		},
		type : 'POST',
		dataType : 'json',
		async : false,
		success : function(rs) {

			var len = rs.category.length;

			console.log(rs);

			for (var i = 0; i < len; ++i) {
				var names = rs.category[i];
				var values = rs.series[0].data[i];
				if (names){
					getshowdata_data.push({
						'name' : names,
						'value' : values,
					});

				}
			}

		},
		error : function() {
//			alert('数据加载失败...');
		}
	});
	var p =getshowdata_data;
	return p;
}



//从对象数组data中得到指定的name值的数组
function getnamevalue(data, townname, name, towntotalscore){
	 var len = data.length;
	 for (var i=0;i<len;i++){
		 if (data[i][townname]==name)
		 return data[i][towntotalscore];
	 }
}


getnamevalue( mapTownsScore, 'classname', '东陈乡', 'totalscore' ) 




var statesData2 = {"type":"FeatureCollection","features":[
    {"type":"Feature","id":"01","properties":{"name":"爵溪街道","density":getnamevalue( mapTownsScore, 'classname', '爵溪街道', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[122.310141,29.374022],[122.290668,29.328278999999998],[122.175161,29.32178],[122.103869,29.35371],[122.07026500000001,29.393858000000002],[122.04862300000001,29.419696999999999],[122.005915,29.421312],[121.982089,29.441219],[121.976783,29.443711],[121.968897,29.443187000000002],[121.960042,29.445812],[121.950892,29.450085000000001],[121.944969,29.451452],[121.935616,29.447704999999999],[121.93163699999999,29.446705999999999],[121.92713999999999,29.450476999999999],[121.92417,29.454846],[121.92500800000001,29.460549],[121.92004,29.470071000000001],[121.918088,29.483903999999999],[121.917573,29.492605000000001],[121.91745299999999,29.497852000000002],[121.916258,29.504121000000001],[121.916877,29.505873000000001],[121.91995799999999,29.506646],[121.923277,29.507705999999999],[121.924538,29.512785999999998],[121.92849,29.517569000000002],[121.93186300000001,29.519711000000001],[121.93816099999999,29.521744000000002],[121.941805,29.522494999999999],[121.969419,29.522449000000002],[121.988006,29.524512000000001],[122.050344,29.526883999999999],[122.112483,29.528441999999998],[122.162295,29.529668999999998],[122.31026799999999,29.531707999999998],[122.310141,29.374022]]]}},

    {"type":"Feature","id":"02","properties":{"name":"东陈乡","density":getnamevalue( mapTownsScore, 'classname', '东陈乡', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[122.103869,29.35371],[122.021078,29.323084000000001],[121.96509500000001,29.302894999999999],[121.93620300000001,29.312695000000001],[121.925094,29.313932000000001],[121.923084,29.312874000000001],[121.921041,29.310780000000001],[121.916692,29.309878999999999],[121.912058,29.311464999999998],[121.90750199999999,29.311869000000002],[121.90070799999999,29.313298],[121.897043,29.315438],[121.89644,29.319706],[121.89412299999999,29.321912999999999],[121.889511,29.323969999999999],[121.88413799999999,29.324166999999999],[121.88112099999999,29.325811000000002],[121.88124999999999,29.328519],[121.882304,29.333669],[121.880977,29.336901999999998],[121.87831300000001,29.340302000000001],[121.878364,29.344192],[121.87990499999999,29.348262999999999],[121.878998,29.351834],[121.884021,29.352712],[121.885254,29.355969000000002],[121.88463299999999,29.359883],[121.882193,29.362331000000001],[121.87820000000001,29.363302999999998],[121.876475,29.363838000000001],[121.874712,29.366379999999999],[121.872657,29.368459999999999],[121.86728599999999,29.368773999999998],[121.864772,29.369692000000001],[121.862118,29.370497],[121.85995,29.370221999999998],[121.856859,29.370335000000001],[121.853409,29.371403999999998],[121.84961199999999,29.373666],[121.846621,29.375896999999998],[121.85147600000001,29.378905],[121.853739,29.381181000000002],[121.854277,29.383991999999999],[121.854232,29.388711000000001],[121.856887,29.390737000000001],[121.857817,29.393298000000001],[121.85789,29.394828],[121.86000799999999,29.396874],[121.86133,29.399184000000002],[121.86108400000001,29.405325999999999],[121.863981,29.406752999999998],[121.86981900000001,29.410549],[121.875764,29.413751000000001],[121.880712,29.41581],[121.88126800000001,29.418973999999999],[121.882339,29.421647],[121.88892300000001,29.424118],[121.89528900000001,29.424827000000001],[121.89779799999999,29.423791000000001],[121.899731,29.421951],[121.90684299999999,29.415792],[121.909352,29.414756000000001],[121.91479699999999,29.413139000000001],[121.918317,29.416311],[121.919427,29.418157999999998],[121.928917,29.424306000000001],[121.93407000000001,29.419208000000001],[121.954476,29.400935],[121.96639500000001,29.380206999999999],[121.984673,29.379522999999999],[122.07026500000001,29.393858000000002],[122.103869,29.35371]],[[121.92295300000001,29.377258000000001],[121.922516,29.381813999999999],[121.922179,29.385974000000001],[121.922359,29.387594],[121.91921499999999,29.389305],[121.916918,29.389921000000001],[121.91385200000001,29.389700999999999],[121.90996699999999,29.389673999999999],[121.912351,29.395159],[121.902901,29.394798999999999],[121.90331500000001,29.390167999999999],[121.903435,29.389365999999999],[121.900745,29.389192000000001],[121.900099,29.390827000000002],[121.898611,29.391794999999998],[121.89704,29.391680999999998],[121.89720800000001,29.404302999999999],[121.889038,29.404485999999999],[121.889033,29.408425000000001],[121.889088,29.409913],[121.889223,29.411854999999999],[121.889516,29.414625000000001],[121.889668,29.416397],[121.88972200000001,29.416815],[121.88976700000001,29.418112000000001],[121.889796,29.418869999999998],[121.88672099999999,29.418880000000001],[121.884934,29.418856999999999],[121.884401,29.41882],[121.884291,29.418790000000001],[121.883961,29.418602],[121.884202,29.41798],[121.884248,29.417570000000001],[121.884084,29.416467000000001],[121.883906,29.414954999999999],[121.884078,29.413650000000001],[121.88145900000001,29.413333999999999],[121.878272,29.411615000000001],[121.875429,29.409655000000001],[121.874505,29.408289],[121.87429400000001,29.406936999999999],[121.874365,29.404748000000001],[121.8746,29.402552],[121.875502,29.401693000000002],[121.879768,29.40071],[121.880081,29.398810999999998],[121.883484,29.396516999999999],[121.884675,29.396111000000001],[121.88857400000001,29.396356999999998],[121.889054,29.396386],[121.88906299999999,29.393937000000001],[121.889118,29.393322999999999],[121.889309,29.391870000000001],[121.889353,29.391559000000001],[121.889544,29.390968999999998],[121.88982900000001,29.390058],[121.89017699999999,29.389241999999999],[121.890484,29.388625999999999],[121.890648,29.388347],[121.891329,29.387274000000001],[121.89179300000001,29.386586000000001],[121.89255799999999,29.38578],[121.89370599999999,29.384443999999998],[121.89833,29.379957000000001],[121.901475,29.376517],[121.902734,29.376379],[121.90532,29.375879999999999],[121.909285,29.376107999999999],[121.910008,29.374475],[121.91201,29.373394000000001],[121.91393600000001,29.37247],[121.916293,29.372712],[121.919163,29.373004000000002],[121.920862,29.373207000000001],[121.92213099999999,29.374113999999999],[121.922819,29.374984999999999],[121.92295300000001,29.377258000000001]]]}},

    {"type":"Feature","id":"03","properties":{"name":"石浦镇","density":getnamevalue( mapTownsScore, 'classname', '石浦镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.96509500000001,29.302894999999999],[122.021078,29.323084000000001],[122.103869,29.35371],[122.175161,29.32178],[122.1698,29.168474],[122.03035300000001,29.086064],[122.01143500000001,29.116726],[122.003748,29.13541],[121.99726699999999,29.151337000000002],[121.994203,29.154634999999999],[121.981765,29.155806999999999],[121.976527,29.158597],[121.97255699999999,29.162635999999999],[121.96878100000001,29.165134999999999],[121.964195,29.167546000000002],[121.957815,29.171793000000001],[121.951589,29.179217999999999],[121.94690900000001,29.185286999999999],[121.944146,29.192112000000002],[121.936136,29.193234],[121.929253,29.189831999999999],[121.92089900000001,29.183772000000001],[121.908075,29.179762],[121.89795700000001,29.176124000000002],[121.884218,29.169785999999998],[121.879099,29.163841000000001],[121.871309,29.155398000000002],[121.85015199999999,29.151214],[121.836522,29.149937999999999],[121.822182,29.150691999999999],[121.81471999999999,29.152023],[121.81088,29.153223000000001],[121.794882,29.155919999999998],[121.79709699999999,29.166650000000001],[121.797068,29.168226000000001],[121.797624,29.171507999999999],[121.79827,29.173843999999999],[121.80264,29.175338],[121.80665999999999,29.175076000000001],[121.811391,29.172782999999999],[121.814474,29.175502000000002],[121.818354,29.175125999999999],[121.82108700000001,29.176089000000001],[121.82392400000001,29.178024000000001],[121.82662999999999,29.179663000000001],[121.83127500000001,29.181263999999999],[121.832521,29.182044999999999],[121.830786,29.185174],[121.83193,29.189496999999999],[121.834272,29.190708999999998],[121.836207,29.188987999999998],[121.83819200000001,29.188326],[121.841043,29.188931],[121.84480499999999,29.191742999999999],[121.84796299999999,29.193161],[121.851133,29.191984999999999],[121.853336,29.190253999999999],[121.85548300000001,29.190176000000001],[121.860218,29.190829000000001],[121.86380699999999,29.192820999999999],[121.866066,29.192267000000001],[121.86715599999999,29.192581000000001],[121.866686,29.194013999999999],[121.868078,29.195024],[121.869973,29.195309000000002],[121.873456,29.197894999999999],[121.875334,29.197825999999999],[121.877235,29.198228],[121.878051,29.198433999999999],[121.87946599999999,29.199916000000002],[121.88436900000001,29.201270000000001],[121.887316,29.203873999999999],[121.89049199999999,29.205645000000001],[121.89241,29.206399999999999],[121.893981,29.208348000000001],[121.891599,29.211973],[121.891527,29.213273000000001],[121.892505,29.214062999999999],[121.895922,29.215235],[121.90048,29.217780000000001],[121.903729,29.218250000000001],[121.909283,29.221938000000002],[121.914584,29.223158000000002],[121.91861,29.223009999999999],[121.92066800000001,29.223877000000002],[121.921279,29.225387999999999],[121.92015499999999,29.227198000000001],[121.91439200000001,29.233188999999999],[121.908795,29.237051000000001],[121.90877399999999,29.239411],[121.910217,29.241479999999999],[121.90982700000001,29.244561000000001],[121.910678,29.248304000000001],[121.91357000000001,29.24973],[121.91686,29.251024000000001],[121.912677,29.253537000000001],[121.909853,29.256353000000001],[121.90741,29.258683999999999],[121.904786,29.260078],[121.90069099999999,29.258813],[121.89801199999999,29.259029999999999],[121.89537199999999,29.262899999999998],[121.893727,29.262253000000001],[121.891931,29.258427000000001],[121.88789800000001,29.258457],[121.87966299999999,29.260646000000001],[121.87862800000001,29.261509],[121.878388,29.264938000000001],[121.877605,29.268269],[121.877683,29.269917],[121.880442,29.271349000000001],[121.88351400000001,29.273713999999998],[121.881254,29.277099],[121.884393,29.280875000000002],[121.884052,29.285015999999999],[121.884399,29.286653999999999],[121.88686800000001,29.290455000000001],[121.886835,29.29541],[121.892167,29.291557999999998],[121.899776,29.287504999999999],[121.900313,29.284655000000001],[121.903485,29.283477000000001],[121.906159,29.283142000000002],[121.910927,29.284382000000001],[121.913327,29.283940000000001],[121.91866,29.285748000000002],[121.922555,29.285603999999999],[121.927367,29.286223],[121.940889,29.292000999999999],[121.96509500000001,29.302894999999999]]]}},

    {"type":"Feature","id":"04","properties":{"name":"鹤浦镇","density":getnamevalue( mapTownsScore, 'classname', '鹤浦镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.871309,29.155398000000002],[121.879099,29.163841000000001],[121.884218,29.169785999999998],[121.89795700000001,29.176124000000002],[121.908075,29.179762],[121.92089900000001,29.183772000000001],[121.929253,29.189831999999999],[121.936136,29.193234],[121.944146,29.192112000000002],[121.94690900000001,29.185286999999999],[121.951589,29.179217999999999],[121.957815,29.171793000000001],[121.964195,29.167546000000002],[121.96878100000001,29.165134999999999],[121.97255699999999,29.162635999999999],[121.976527,29.158597],[121.981765,29.155806999999999],[121.994203,29.154634999999999],[121.99726699999999,29.151337000000002],[122.003748,29.13541],[122.01143500000001,29.116726],[122.03035300000001,29.086064],[122.06163599999999,29.034624000000001],[122.058058,28.961359000000002],[121.98669599999999,28.945961],[121.905146,28.959129999999998],[121.873457,28.995296],[121.876794,29.045715000000001],[121.87674699999999,29.071974999999998],[121.881343,29.091007999999999],[121.884429,29.106988999999999],[121.886234,29.112852],[121.887277,29.117895999999998],[121.885538,29.121912999999999],[121.883124,29.125247999999999],[121.877379,29.126162999999998],[121.869708,29.127148999999999],[121.86547400000001,29.12942],[121.864617,29.131710000000002],[121.866957,29.133602],[121.86899699999999,29.135926999999999],[121.870621,29.139679999999998],[121.870673,29.147583999999998],[121.871309,29.155398000000002]]]}},

    {"type":"Feature","id":"05","properties":{"name":"高塘岛乡","density":getnamevalue( mapTownsScore, 'classname', '高塘岛乡', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.78357699999999,29.159482000000001],[121.794882,29.155919999999998],[121.794882,29.155919999999998],[121.81088,29.153223000000001],[121.81471999999999,29.152023],[121.822182,29.150691999999999],[121.836522,29.149937999999999],[121.85015199999999,29.151214],[121.871309,29.155398000000002],[121.870673,29.147583999999998],[121.870621,29.139679999999998],[121.86899699999999,29.135926999999999],[121.866957,29.133602],[121.864617,29.131710000000002],[121.86547400000001,29.12942],[121.869708,29.127148999999999],[121.877379,29.126162999999998],[121.883124,29.125247999999999],[121.885538,29.121912999999999],[121.887277,29.117895999999998],[121.886234,29.112852],[121.884429,29.106988999999999],[121.881343,29.091007999999999],[121.87674699999999,29.071974999999998],[121.876794,29.045715000000001],[121.873457,28.995296],[121.84013899999999,28.997067000000001],[121.796516,29.012187999999998],[121.76645499999999,29.029073],[121.737184,29.063431000000001],[121.726253,29.091491000000001],[121.731165,29.114473],[121.740072,29.133358999999999],[121.753648,29.155750000000001],[121.762029,29.163076],[121.78357699999999,29.159482000000001]]]}},

    {"type":"Feature","id":"06","properties":{"name":"晓塘乡","density":getnamevalue( mapTownsScore, 'classname', '晓塘乡', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.77037,29.183391],[121.770781,29.199189000000001],[121.78377999999999,29.198442],[121.788281,29.198350999999999],[121.791169,29.198177000000001],[121.79416399999999,29.198564000000001],[121.795787,29.198858000000001],[121.796087,29.200118],[121.799081,29.205658],[121.80480900000001,29.212864],[121.809775,29.219249999999999],[121.812989,29.222593],[121.81758000000001,29.226098],[121.818731,29.226621000000002],[121.820768,29.223724000000001],[121.824951,29.218561000000001],[121.832328,29.218012000000002],[121.83786499999999,29.215976000000001],[121.840107,29.215754],[121.844919,29.218826],[121.85176,29.220554],[121.853634,29.222745],[121.85757700000001,29.221049000000001],[121.861065,29.219933000000001],[121.864419,29.219387999999999],[121.866916,29.217744],[121.870919,29.217314999999999],[121.872257,29.218395999999998],[121.8729,29.221761000000001],[121.874928,29.223804000000001],[121.875671,29.225895000000001],[121.877458,29.226253],[121.881642,29.226241000000002],[121.886094,29.228477999999999],[121.886984,29.230281000000002],[121.890372,29.230439000000001],[121.89625700000001,29.232341000000002],[121.90264999999999,29.234788000000002],[121.908795,29.237051000000001],[121.91439200000001,29.233188999999999],[121.92015499999999,29.227198000000001],[121.921279,29.225387999999999],[121.92066800000001,29.223877000000002],[121.91861,29.223009999999999],[121.914584,29.223158000000002],[121.909283,29.221938000000002],[121.903729,29.218250000000001],[121.90048,29.217780000000001],[121.895922,29.215235],[121.892505,29.214062999999999],[121.891527,29.213273000000001],[121.891599,29.211973],[121.893981,29.208348000000001],[121.89241,29.206399999999999],[121.89049199999999,29.205645000000001],[121.887316,29.203873999999999],[121.88436900000001,29.201270000000001],[121.87946599999999,29.199916000000002],[121.878051,29.198433999999999],[121.877235,29.198228],[121.875334,29.197825999999999],[121.873456,29.197894999999999],[121.869973,29.195309000000002],[121.868078,29.195024],[121.866686,29.194013999999999],[121.86715599999999,29.192581000000001],[121.866066,29.192267000000001],[121.86380699999999,29.192820999999999],[121.860218,29.190829000000001],[121.85548300000001,29.190176000000001],[121.853336,29.190253999999999],[121.851133,29.191984999999999],[121.84796299999999,29.193161],[121.84480499999999,29.191742999999999],[121.841043,29.188931],[121.83819200000001,29.188326],[121.836207,29.188987999999998],[121.834272,29.190708999999998],[121.83193,29.189496999999999],[121.830786,29.185174],[121.832521,29.182044999999999],[121.83127500000001,29.181263999999999],[121.82662999999999,29.179663000000001],[121.82392400000001,29.178024000000001],[121.82108700000001,29.176089000000001],[121.818354,29.175125999999999],[121.814474,29.175502000000002],[121.811391,29.172782999999999],[121.80665999999999,29.175076000000001],[121.80264,29.175338],[121.79827,29.173843999999999],[121.797624,29.171507999999999],[121.797068,29.168226000000001],[121.79709699999999,29.166650000000001],[121.794882,29.155919999999998],[121.78357699999999,29.159482000000001],[121.762029,29.163076],[121.762029,29.163076],[121.77037,29.183391]]]}},

    {"type":"Feature","id":"07","properties":{"name":"定塘镇","density":getnamevalue( mapTownsScore, 'classname', '定塘镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.77658599999999,29.216771000000001],[121.783047,29.238],[121.789933,29.251024000000001],[121.79995700000001,29.251933999999999],[121.807495,29.254769],[121.812408,29.258261999999998],[121.814075,29.259473],[121.81480000000001,29.262906000000001],[121.815946,29.266746999999999],[121.815986,29.268616999999999],[121.81380299999999,29.272542000000001],[121.811177,29.275984999999999],[121.809724,29.278265999999999],[121.809341,29.280397000000001],[121.809183,29.282167999999999],[121.81343200000001,29.283497000000001],[121.81591400000001,29.283194999999999],[121.81803499999999,29.282060000000001],[121.81901999999999,29.280754000000002],[121.82019699999999,29.278382000000001],[121.82123199999999,29.276437999999999],[121.822405,29.275690000000001],[121.824003,29.27542],[121.828001,29.276546],[121.832334,29.277941999999999],[121.836867,29.280177999999999],[121.839724,29.280992000000001],[121.841294,29.281852000000001],[121.843012,29.282425],[121.84687099999999,29.282285000000002],[121.849245,29.283116],[121.850812,29.283906000000002],[121.85258399999999,29.285606999999999],[121.85422800000001,29.286322999999999],[121.857534,29.286415000000002],[121.859808,29.286826000000001],[121.861834,29.287105],[121.86323400000001,29.287759999999999],[121.864245,29.288710999999999],[121.86456699999999,29.290393000000002],[121.867457,29.291910999999999],[121.868371,29.292513],[121.86949300000001,29.294096],[121.870334,29.294841000000002],[121.87156,29.29522],[121.87496299999999,29.295660000000002],[121.87746199999999,29.29571],[121.87973599999999,29.296120999999999],[121.880972,29.296710999999998],[121.88261,29.297286],[121.884362,29.296869000000001],[121.886835,29.29541],[121.88686800000001,29.290455000000001],[121.884399,29.286653999999999],[121.884052,29.285015999999999],[121.884393,29.280875000000002],[121.881254,29.277099],[121.88351400000001,29.273713999999998],[121.880442,29.271349000000001],[121.877683,29.269917],[121.877605,29.268269],[121.878388,29.264938000000001],[121.87862800000001,29.261509],[121.87966299999999,29.260646000000001],[121.88789800000001,29.258457],[121.891931,29.258427000000001],[121.893727,29.262253000000001],[121.89537199999999,29.262899999999998],[121.89801199999999,29.259029999999999],[121.90069099999999,29.258813],[121.904786,29.260078],[121.90741,29.258683999999999],[121.909853,29.256353000000001],[121.912677,29.253537000000001],[121.91686,29.251024000000001],[121.91357000000001,29.24973],[121.910678,29.248304000000001],[121.90982700000001,29.244561000000001],[121.910217,29.241479999999999],[121.90877399999999,29.239411],[121.908795,29.237051000000001],[121.90264999999999,29.234788000000002],[121.89625700000001,29.232341000000002],[121.890372,29.230439000000001],[121.886984,29.230281000000002],[121.886094,29.228477999999999],[121.881642,29.226241000000002],[121.877458,29.226253],[121.875671,29.225895000000001],[121.874928,29.223804000000001],[121.8729,29.221761000000001],[121.872257,29.218395999999998],[121.870919,29.217314999999999],[121.866916,29.217744],[121.864419,29.219387999999999],[121.861065,29.219933000000001],[121.85757700000001,29.221049000000001],[121.853634,29.222745],[121.85176,29.220554],[121.844919,29.218826],[121.840107,29.215754],[121.83786499999999,29.215976000000001],[121.832328,29.218012000000002],[121.824951,29.218561000000001],[121.820768,29.223724000000001],[121.818731,29.226621000000002],[121.81758000000001,29.226098],[121.812989,29.222593],[121.809775,29.219249999999999],[121.80480900000001,29.212864],[121.799081,29.205658],[121.796087,29.200118],[121.795787,29.198858000000001],[121.79416399999999,29.198564000000001],[121.791169,29.198177000000001],[121.788281,29.198350999999999],[121.78377999999999,29.198442],[121.770781,29.199189000000001],[121.770781,29.199189000000001],[121.77658599999999,29.216771000000001]]]}},

    {"type":"Feature","id":"08","properties":{"name":"新桥镇","density":getnamevalue( mapTownsScore, 'classname', '新桥镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.813969,29.269217999999999],[121.811565,29.269445999999999],[121.804339,29.268153999999999],[121.798017,29.267251999999999],[121.79575,29.26698],[121.793599,29.268056000000001],[121.790178,29.270074999999999],[121.787137,29.270467],[121.786653,29.28079],[121.78567700000001,29.287461],[121.78254099999999,29.296185999999999],[121.782844,29.302669000000002],[121.786546,29.306066000000001],[121.789806,29.310324999999999],[121.791291,29.314508],[121.78890199999999,29.318546999999999],[121.787587,29.321418000000001],[121.78671799999999,29.326955000000002],[121.78582299999999,29.331928999999999],[121.787059,29.337672999999999],[121.789509,29.341819999999998],[121.793145,29.347194999999999],[121.792041,29.354576000000002],[121.79174999999999,29.358681000000001],[121.790297,29.360357],[121.791359,29.361197000000001],[121.794693,29.363022000000001],[121.796999,29.364069000000001],[121.80211,29.364802000000001],[121.80760100000001,29.365027000000001],[121.812641,29.365974999999999],[121.814093,29.365993],[121.818353,29.365767999999999],[121.818815,29.367021999999999],[121.819401,29.369188999999999],[121.82043,29.370493],[121.82173400000001,29.370799000000002],[121.823909,29.37079],[121.827157,29.373002],[121.828165,29.373882999999999],[121.829624,29.374041999999999],[121.83277099999999,29.374139],[121.835379,29.374749999999999],[121.839311,29.374396000000001],[121.842606,29.374205],[121.844148,29.374431000000001],[121.846621,29.375896999999998],[121.84961199999999,29.373666],[121.853409,29.371403999999998],[121.856859,29.370335000000001],[121.85995,29.370221999999998],[121.862118,29.370497],[121.864772,29.369692000000001],[121.86728599999999,29.368773999999998],[121.872657,29.368459999999999],[121.874712,29.366379999999999],[121.876475,29.363838000000001],[121.87820000000001,29.363302999999998],[121.882193,29.362331000000001],[121.88463299999999,29.359883],[121.885254,29.355969000000002],[121.884021,29.352712],[121.878998,29.351834],[121.87990499999999,29.348262999999999],[121.878364,29.344192],[121.87831300000001,29.340302000000001],[121.880977,29.336901999999998],[121.882304,29.333669],[121.88124999999999,29.328519],[121.88112099999999,29.325811000000002],[121.88413799999999,29.324166999999999],[121.889511,29.323969999999999],[121.89412299999999,29.321912999999999],[121.89644,29.319706],[121.897043,29.315438],[121.90070799999999,29.313298],[121.90750199999999,29.311869000000002],[121.912058,29.311464999999998],[121.916692,29.309878999999999],[121.921041,29.310780000000001],[121.923084,29.312874000000001],[121.925094,29.313932000000001],[121.93620300000001,29.312695000000001],[121.96509500000001,29.302894999999999],[121.940889,29.292000999999999],[121.927367,29.286223],[121.922555,29.285603999999999],[121.91866,29.285748000000002],[121.913327,29.283940000000001],[121.910927,29.284382000000001],[121.906159,29.283142000000002],[121.903485,29.283477000000001],[121.900313,29.284655000000001],[121.899776,29.287504999999999],[121.892167,29.291557999999998],[121.886835,29.29541],[121.884362,29.296869000000001],[121.88261,29.297286],[121.880972,29.296710999999998],[121.87973599999999,29.296120999999999],[121.87746199999999,29.29571],[121.87496299999999,29.295660000000002],[121.87156,29.29522],[121.870334,29.294841000000002],[121.86949300000001,29.294096],[121.868371,29.292513],[121.867457,29.291910999999999],[121.86456699999999,29.290393000000002],[121.864245,29.288710999999999],[121.86323400000001,29.287759999999999],[121.861834,29.287105],[121.859808,29.286826000000001],[121.857534,29.286415000000002],[121.85422800000001,29.286322999999999],[121.85258399999999,29.285606999999999],[121.850812,29.283906000000002],[121.849245,29.283116],[121.84687099999999,29.282285000000002],[121.843012,29.282425],[121.841294,29.281852000000001],[121.839724,29.280992000000001],[121.836867,29.280177999999999],[121.832334,29.277941999999999],[121.828001,29.276546],[121.824003,29.27542],[121.822405,29.275690000000001],[121.82123199999999,29.276437999999999],[121.82019699999999,29.278382000000001],[121.81901999999999,29.280754000000002],[121.81803499999999,29.282060000000001],[121.81591400000001,29.283194999999999],[121.81343200000001,29.283497000000001],[121.809183,29.282167999999999],[121.809341,29.280397000000001],[121.809724,29.278265999999999],[121.811177,29.275984999999999],[121.81380299999999,29.272542000000001],[121.815986,29.268616999999999],[121.815986,29.268616999999999],[121.813969,29.269217999999999]]]}},

    {"type":"Feature","id":"09","properties":{"name":"泗洲头镇","density":getnamevalue( mapTownsScore, 'classname', '泗洲头镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.782892,29.269207000000002],[121.779405,29.273849999999999],[121.776059,29.278064000000001],[121.772896,29.279306999999999],[121.767236,29.278804000000001],[121.762485,29.280525999999998],[121.75614899999999,29.279340999999999],[121.753446,29.276613000000001],[121.751773,29.275261],[121.74917499999999,29.274788999999998],[121.74133,29.275773999999998],[121.742058,29.277584000000001],[121.744039,29.278642999999999],[121.74312,29.279664],[121.743031,29.281220000000001],[121.74518,29.282413999999999],[121.74684600000001,29.283626000000002],[121.747653,29.287126000000001],[121.747984,29.290786000000001],[121.746083,29.294948000000002],[121.742504,29.301145999999999],[121.74232600000001,29.304258999999998],[121.74278099999999,29.310596],[121.742114,29.313585],[121.739452,29.315232999999999],[121.737807,29.317974],[121.738433,29.321057],[121.741855,29.328842000000002],[121.743207,29.330206],[121.74297,29.332049999999999],[121.740908,29.336217999999999],[121.737571,29.340713000000001],[121.738821,29.343350999999998],[121.738584,29.345195],[121.7384,29.348167],[121.738337,29.350287000000002],[121.73467599999999,29.351264],[121.72901400000001,29.354289000000001],[121.72685300000001,29.356342999999999],[121.723804,29.360122],[121.72161699999999,29.361611],[121.71861800000001,29.362988000000001],[121.716617,29.365036],[121.71705,29.367421],[121.718887,29.372297],[121.718565,29.382757000000002],[121.71876899999999,29.390656],[121.72023900000001,29.394556999999999],[121.720744,29.398492999999998],[121.718036,29.402683],[121.716041,29.404872000000001],[121.717111,29.407093],[121.718549,29.410288999999999],[121.717185,29.412172999999999],[121.714474,29.412834],[121.71348399999999,29.415834],[121.71897300000001,29.419452],[121.722117,29.421175999999999],[121.72314799999999,29.422550999999999],[121.72385800000001,29.423938],[121.721636,29.424721999999999],[121.722307,29.425263000000001],[121.726545,29.426241999999998],[121.729164,29.423608000000002],[121.73060700000001,29.423414999999999],[121.734234,29.425121000000001],[121.73782199999999,29.425982000000001],[121.742002,29.425692000000002],[121.747174,29.425930000000001],[121.749517,29.424294],[121.75039099999999,29.422286],[121.75196800000001,29.421524000000002],[121.753581,29.418077],[121.758049,29.417069999999999],[121.760096,29.416008999999999],[121.763845,29.416862999999999],[121.76953899999999,29.417929000000001],[121.768878,29.414141000000001],[121.768812,29.412731999999998],[121.77049700000001,29.410836],[121.77666000000001,29.411602999999999],[121.781223,29.409179999999999],[121.78498,29.406786],[121.786027,29.405054],[121.784627,29.402704],[121.783838,29.399626999999999],[121.784724,29.3979],[121.78822099999999,29.393398000000001],[121.788303,29.391701000000001],[121.787661,29.388335999999999],[121.78602100000001,29.3843],[121.786237,29.382034000000001],[121.783704,29.379583],[121.78200200000001,29.377668],[121.78107199999999,29.375019000000002],[121.780191,29.369968],[121.78038100000001,29.367137],[121.78093200000001,29.365141000000001],[121.785808,29.362566000000001],[121.790297,29.360357],[121.79174999999999,29.358681000000001],[121.792041,29.354576000000002],[121.793145,29.347194999999999],[121.789509,29.341819999999998],[121.787059,29.337672999999999],[121.78582299999999,29.331928999999999],[121.78671799999999,29.326955000000002],[121.787587,29.321418000000001],[121.78890199999999,29.318546999999999],[121.791291,29.314508],[121.789806,29.310324999999999],[121.786546,29.306066000000001],[121.782844,29.302669000000002],[121.78254099999999,29.296185999999999],[121.78567700000001,29.287461],[121.786653,29.28079],[121.787137,29.270467],[121.787137,29.270467],[121.782892,29.269207000000002]]]}},

    {"type":"Feature","id":"10","properties":{"name":"茅洋乡","density":getnamevalue( mapTownsScore, 'classname', '茅洋乡', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.77043999999999,29.423403],[121.770076,29.425958000000001],[121.772689,29.430098999999998],[121.772828,29.433059],[121.774672,29.434546000000001],[121.776864,29.436585000000001],[121.779749,29.436198999999998],[121.78662,29.434822],[121.789317,29.433878],[121.79223500000001,29.434196],[121.796199,29.436171000000002],[121.798573,29.438625999999999],[121.80018099999999,29.441956999999999],[121.804771,29.440096],[121.808944,29.439662999999999],[121.812855,29.44051],[121.815116,29.440569],[121.818377,29.437909999999999],[121.819022,29.434498000000001],[121.820183,29.431773],[121.82215600000001,29.429161000000001],[121.831373,29.426285],[121.83568,29.425280999999998],[121.839476,29.423731],[121.842405,29.423226],[121.842332,29.421696000000001],[121.842203,29.416156999999998],[121.843593,29.41422],[121.849633,29.410933],[121.856832,29.406542999999999],[121.86003100000001,29.405836000000001],[121.86108400000001,29.405325999999999],[121.86133,29.399184000000002],[121.86000799999999,29.396874],[121.85789,29.394828],[121.857817,29.393298000000001],[121.856887,29.390737000000001],[121.854232,29.388711000000001],[121.854277,29.383991999999999],[121.853739,29.381181000000002],[121.85147600000001,29.378905],[121.846621,29.375896999999998],[121.844148,29.374431000000001],[121.842606,29.374205],[121.839311,29.374396000000001],[121.835379,29.374749999999999],[121.83277099999999,29.374139],[121.829624,29.374041999999999],[121.828165,29.373882999999999],[121.827157,29.373002],[121.823909,29.37079],[121.82173400000001,29.370799000000002],[121.82043,29.370493],[121.819401,29.369188999999999],[121.818815,29.367021999999999],[121.818353,29.365767999999999],[121.814093,29.365993],[121.812641,29.365974999999999],[121.80760100000001,29.365027000000001],[121.80211,29.364802000000001],[121.796999,29.364069000000001],[121.794693,29.363022000000001],[121.791359,29.361197000000001],[121.790297,29.360357],[121.785808,29.362566000000001],[121.78093200000001,29.365141000000001],[121.78038100000001,29.367137],[121.780191,29.369968],[121.78107199999999,29.375019000000002],[121.78200200000001,29.377668],[121.783704,29.379583],[121.786237,29.382034000000001],[121.78602100000001,29.3843],[121.787661,29.388335999999999],[121.788303,29.391701000000001],[121.78822099999999,29.393398000000001],[121.784724,29.3979],[121.783838,29.399626999999999],[121.784627,29.402704],[121.786027,29.405054],[121.78498,29.406786],[121.781223,29.409179999999999],[121.77666000000001,29.411602999999999],[121.77049700000001,29.410836],[121.768812,29.412731999999998],[121.768878,29.414141000000001],[121.76953899999999,29.417929000000001],[121.76953899999999,29.417929000000001],[121.77043999999999,29.423403]]]}},

    {"type":"Feature","id":"11","properties":{"name":"墙头镇","density":getnamevalue( mapTownsScore, 'classname', '墙头镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.774888,29.437432000000001],[121.773393,29.439957],[121.771069,29.443711],[121.76983,29.444814999999998],[121.76858199999999,29.445706999999999],[121.767765,29.447217999999999],[121.764915,29.450074000000001],[121.76218900000001,29.452148000000001],[121.7585,29.454326999999999],[121.75792800000001,29.455901000000001],[121.758162,29.457445],[121.755576,29.460785000000001],[121.75376199999999,29.463391999999999],[121.749814,29.465226999999999],[121.747299,29.470116999999998],[121.743588,29.477027],[121.742135,29.480467000000001],[121.74423299999999,29.483922],[121.74327599999999,29.487627],[121.742293,29.490767999999999],[121.74293400000001,29.494133999999999],[121.74507199999999,29.498434],[121.746009,29.501225000000002],[121.747282,29.504284999999999],[121.75207399999999,29.506654999999999],[121.752594,29.510871999999999],[121.75416300000001,29.513356999999999],[121.75542299999999,29.516134999999998],[121.75839000000001,29.517441000000002],[121.761449,29.520720000000001],[121.76639400000001,29.526330999999999],[121.767635,29.528686],[121.76684,29.532385000000001],[121.765522,29.535256],[121.76316199999999,29.539999999999999],[121.771777,29.541243999999999],[121.78081,29.541059000000001],[121.78593499999999,29.540168999999999],[121.802986,29.538845999999999],[121.81874000000001,29.537427000000001],[121.829323,29.535913000000001],[121.831304,29.530052000000001],[121.832661,29.524637999999999],[121.834829,29.522724],[121.83550099999999,29.519876],[121.83403,29.516117999999999],[121.833157,29.514738000000001],[121.833708,29.512740999999998],[121.835876,29.510826999999999],[121.836742,29.508678],[121.836682,29.507408999999999],[121.839676,29.505887999999999],[121.84244200000001,29.506352],[121.843563,29.506170000000001],[121.843603,29.503627000000002],[121.84209199999999,29.499023999999999],[121.841663,29.496780999999999],[121.842696,29.494765999999998],[121.844803,29.491584],[121.846159,29.489557999999999],[121.847179,29.487262000000001],[121.85015199999999,29.485317999999999],[121.851952,29.485030999999999],[121.852216,29.482073],[121.854032,29.477761000000001],[121.85236,29.468150999999999],[121.851412,29.462406999999999],[121.84682100000001,29.459389999999999],[121.847112,29.457021000000001],[121.846647,29.452909999999999],[121.846406,29.447848],[121.844024,29.445930000000001],[121.843704,29.444880000000001],[121.844937,29.442475999999999],[121.845767,29.440086999999998],[121.84404000000001,29.437791000000001],[121.84566,29.435020000000002],[121.845699,29.433012999999999],[121.847717,29.430109000000002],[121.84695499999999,29.428249999999998],[121.844024,29.426116],[121.842405,29.423226],[121.839476,29.423731],[121.83568,29.425280999999998],[121.831373,29.426285],[121.82215600000001,29.429161000000001],[121.820183,29.431773],[121.819022,29.434498000000001],[121.818377,29.437909999999999],[121.815116,29.440569],[121.812855,29.44051],[121.808944,29.439662999999999],[121.804771,29.440096],[121.80018099999999,29.441956999999999],[121.798573,29.438625999999999],[121.796199,29.436171000000002],[121.79223500000001,29.434196],[121.789317,29.433878],[121.78662,29.434822],[121.779749,29.436198999999998],[121.776864,29.436585000000001],[121.776864,29.436585000000001],[121.774888,29.437432000000001]]]}},

    {"type":"Feature","id":"12","properties":{"name":"西周镇","density":getnamevalue( mapTownsScore, 'classname', '西周镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.713218,29.411819999999999],[121.71189200000001,29.409417000000001],[121.709242,29.407796000000001],[121.706969,29.407453],[121.704735,29.407955000000001],[121.701538,29.410326999999999],[121.69800600000001,29.410664000000001],[121.694626,29.412548000000001],[121.69261,29.412548999999999],[121.690636,29.411701000000001],[121.689528,29.410399000000002],[121.68924699999999,29.407796000000001],[121.688828,29.405692999999999],[121.686998,29.402722000000001],[121.68354600000001,29.401291000000001],[121.68103000000001,29.401986999999998],[121.67751,29.404865000000001],[121.675247,29.406666000000001],[121.673424,29.407364999999999],[121.670391,29.408035999999999],[121.667159,29.409632999999999],[121.66283799999999,29.410349],[121.660526,29.410924000000001],[121.6588,29.411973],[121.656639,29.414096000000001],[121.65385999999999,29.416805],[121.653012,29.417715000000001],[121.65290299999999,29.420580999999999],[121.654162,29.423431000000001],[121.654763,29.424849999999999],[121.65413700000001,29.426397000000001],[121.65109,29.428550999999999],[121.649779,29.429867999999999],[121.645527,29.433899],[121.644445,29.434926000000001],[121.64286,29.437311000000001],[121.63991900000001,29.438261000000001],[121.638344,29.439091999999999],[121.637416,29.441737],[121.63699699999999,29.443162999999998],[121.6349,29.444931],[121.63203,29.445665999999999],[121.628834,29.446342999999999],[121.627745,29.447227999999999],[121.62576,29.449697],[121.623221,29.450633],[121.62211000000001,29.451024],[121.62058500000001,29.452984000000001],[121.618352,29.455321000000001],[121.616529,29.456019000000001],[121.61526600000001,29.454863],[121.614738,29.453893000000001],[121.614436,29.452562],[121.613502,29.451536000000001],[121.612185,29.450945999999998],[121.608886,29.451131],[121.60605099999999,29.450876000000001],[121.602469,29.450153],[121.59923499999999,29.449983],[121.59739500000001,29.450329],[121.595249,29.451039000000002],[121.591837,29.452286000000001],[121.58893399999999,29.452316],[121.58422400000001,29.451630999999999],[121.58244000000001,29.451409999999999],[121.581306,29.451308000000001],[121.579971,29.452131000000001],[121.577771,29.457007999999998],[121.576154,29.460522999999998],[121.57409800000001,29.465042],[121.572889,29.466847999999999],[121.57102500000001,29.468465999999999],[121.569784,29.469567000000001],[121.56849200000001,29.473914000000001],[121.567414,29.479675],[121.576261,29.482617999999999],[121.588009,29.48546],[121.61697599999999,29.5014],[121.624413,29.508765],[121.620788,29.521317],[121.642567,29.524509999999999],[121.667687,29.530124000000001],[121.684324,29.533773],[121.70248599999999,29.542449000000001],[121.726415,29.563904999999998],[121.729995,29.557566000000001],[121.73707400000001,29.543194],[121.744857,29.536985999999999],[121.75325100000001,29.536968000000002],[121.76316199999999,29.539999999999999],[121.765522,29.535256],[121.76684,29.532385000000001],[121.767635,29.528686],[121.76639400000001,29.526330999999999],[121.761449,29.520720000000001],[121.75839000000001,29.517441000000002],[121.75542299999999,29.516134999999998],[121.75416300000001,29.513356999999999],[121.752594,29.510871999999999],[121.75207399999999,29.506654999999999],[121.747282,29.504284999999999],[121.746009,29.501225000000002],[121.74507199999999,29.498434],[121.74293400000001,29.494133999999999],[121.742293,29.490767999999999],[121.74327599999999,29.487627],[121.74423299999999,29.483922],[121.742135,29.480467000000001],[121.743588,29.477027],[121.747299,29.470116999999998],[121.749814,29.465226999999999],[121.75376199999999,29.463391999999999],[121.755576,29.460785000000001],[121.758162,29.457445],[121.75792800000001,29.455901000000001],[121.7585,29.454326999999999],[121.76218900000001,29.452148000000001],[121.764915,29.450074000000001],[121.767765,29.447217999999999],[121.76858199999999,29.445706999999999],[121.76983,29.444814999999998],[121.771069,29.443711],[121.773393,29.439957],[121.774888,29.437432000000001],[121.776864,29.436585000000001],[121.774672,29.434546000000001],[121.772828,29.433059],[121.772689,29.430098999999998],[121.770076,29.425958000000001],[121.77043999999999,29.423403],[121.76953899999999,29.417929000000001],[121.763845,29.416862999999999],[121.760096,29.416008999999999],[121.758049,29.417069999999999],[121.753581,29.418077],[121.75196800000001,29.421524000000002],[121.75039099999999,29.422286],[121.749517,29.424294],[121.747174,29.425930000000001],[121.742002,29.425692000000002],[121.73782199999999,29.425982000000001],[121.734234,29.425121000000001],[121.73060700000001,29.423414999999999],[121.729164,29.423608000000002],[121.726545,29.426241999999998],[121.722307,29.425263000000001],[121.721636,29.424721999999999],[121.72385800000001,29.423938],[121.72314799999999,29.422550999999999],[121.722117,29.421175999999999],[121.71897300000001,29.419452],[121.71348399999999,29.415834],[121.714474,29.412834],[121.714474,29.412834],[121.713218,29.411819999999999]]]}},

    {"type":"Feature","id":"13","properties":{"name":"黄避岙乡","density":getnamevalue( mapTownsScore, 'classname', '黄避岙乡', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.835649,29.534835000000001],[121.829323,29.535913000000001],[121.829323,29.535913000000001],[121.81874000000001,29.537427000000001],[121.802986,29.538845999999999],[121.78593499999999,29.540168999999999],[121.78081,29.541059000000001],[121.771777,29.541243999999999],[121.76316199999999,29.539999999999999],[121.75325100000001,29.536968000000002],[121.744857,29.536985999999999],[121.73707400000001,29.543194],[121.729995,29.557566000000001],[121.726415,29.563904999999998],[121.741197,29.576084000000002],[121.75608800000001,29.590516000000001],[121.77309200000001,29.608540999999999],[121.78957800000001,29.629121999999999],[121.807913,29.640881],[121.81370800000001,29.620058],[121.81873899999999,29.610948],[121.819824,29.609389],[121.819844,29.606422999999999],[121.81973000000001,29.604026999999999],[121.822384,29.602094999999998],[121.823036,29.598825000000001],[121.824843,29.596076],[121.82657,29.591636999999999],[121.82628800000001,29.589106000000001],[121.82481,29.585207],[121.82771200000001,29.581713000000001],[121.828867,29.578847],[121.829633,29.577971999999999],[121.83367,29.574577999999999],[121.840306,29.568124000000001],[121.84521599999999,29.566109000000001],[121.846841,29.562944000000002],[121.847008,29.559691000000001],[121.84591899999999,29.557189999999999],[121.843414,29.555446],[121.8424,29.554494999999999],[121.844072,29.552316000000001],[121.84354,29.547958999999999],[121.844077,29.545680999999998],[121.84756299999999,29.544281999999999],[121.847246,29.541046999999999],[121.850033,29.538544999999999],[121.850381,29.535709000000001],[121.849414,29.532356],[121.846217,29.529648999999999],[121.844337,29.530847999999999],[121.841239,29.533660000000001],[121.835649,29.534835000000001]]]}},

    {"type":"Feature","id":"14","properties":{"name":"贤庠镇","density":getnamevalue( mapTownsScore, 'classname', '贤庠镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.855524,29.558814000000002],[121.847008,29.559691000000001],[121.847008,29.559691000000001],[121.846841,29.562944000000002],[121.84521599999999,29.566109000000001],[121.840306,29.568124000000001],[121.83367,29.574577999999999],[121.829633,29.577971999999999],[121.828867,29.578847],[121.82771200000001,29.581713000000001],[121.82481,29.585207],[121.82628800000001,29.589106000000001],[121.82657,29.591636999999999],[121.824843,29.596076],[121.823036,29.598825000000001],[121.822384,29.602094999999998],[121.81973000000001,29.604026999999999],[121.819844,29.606422999999999],[121.819824,29.609389],[121.81873899999999,29.610948],[121.81370800000001,29.620058],[121.807913,29.640881],[121.867794,29.669467000000001],[121.901217,29.691949000000001],[121.936187,29.692906000000001],[121.93691200000001,29.681303],[121.93683,29.653213999999998],[121.936277,29.635307000000001],[121.936976,29.631027],[121.93658499999999,29.628378999999999],[121.936286,29.625565999999999],[121.93756500000001,29.62199],[121.935393,29.620518000000001],[121.934274,29.617453999999999],[121.933272,29.616785],[121.931522,29.614027],[121.932794,29.610309999999998],[121.931549,29.607956000000001],[121.932406,29.605665999999999],[121.932464,29.603546000000001],[121.929534,29.596456],[121.929266,29.590959999999999],[121.926985,29.587233000000001],[121.925506,29.586724],[121.921932,29.586292],[121.922025,29.584876999999999],[121.9229,29.579620999999999],[121.92512600000001,29.575586000000001],[121.92519799999999,29.573747999999998],[121.921744,29.572465000000001],[121.91781400000001,29.571339999999999],[121.914309,29.572317000000002],[121.913307,29.571648],[121.909758,29.568391999999999],[121.902275,29.567257000000001],[121.89084200000001,29.564574],[121.88955900000001,29.564762999999999],[121.888274,29.561563],[121.88579300000001,29.556996000000002],[121.88336200000001,29.556802999999999],[121.881328,29.558149],[121.881034,29.562111999999999],[121.880242,29.562424],[121.87795800000001,29.561942999999999],[121.87608299999999,29.559895000000001],[121.87396699999999,29.559549000000001],[121.87090499999999,29.559661999999999],[121.869111,29.559304000000001],[121.86678000000001,29.557836999999999],[121.86413400000001,29.556522000000001],[121.862166,29.555889000000001],[121.858485,29.556588000000001],[121.855524,29.558814000000002]]]}},

    {"type":"Feature","id":"15","properties":{"name":"涂茨镇","density":getnamevalue( mapTownsScore, 'classname', '涂茨镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[122.104094,29.592523],[122.112483,29.528441999999998],[122.112483,29.528441999999998],[122.050344,29.526883999999999],[121.988006,29.524512000000001],[121.969419,29.522449000000002],[121.941805,29.522494999999999],[121.93816099999999,29.521744000000002],[121.937166,29.522765],[121.93485099999999,29.526592000000001],[121.932211,29.528737],[121.929789,29.530380000000001],[121.92485000000001,29.533387000000001],[121.920714,29.536294000000002],[121.91915400000001,29.537410000000001],[121.918228,29.538291999999998],[121.915514,29.540579999999999],[121.91163400000001,29.542135999999999],[121.910382,29.542959],[121.908997,29.544350999999999],[121.90924699999999,29.546177],[121.909882,29.550953],[121.909701,29.552230000000002],[121.908331,29.552281000000001],[121.907106,29.551974000000001],[121.905866,29.551383999999999],[121.904251,29.551373000000002],[121.900334,29.553847999999999],[121.89930099999999,29.555862000000001],[121.899169,29.558126000000001],[121.898186,29.559502999999999],[121.893237,29.560673999999999],[121.89084200000001,29.564574],[121.902275,29.567257000000001],[121.909758,29.568391999999999],[121.913307,29.571648],[121.914309,29.572317000000002],[121.91781400000001,29.571339999999999],[121.921744,29.572465000000001],[121.92519799999999,29.573747999999998],[121.92512600000001,29.575586000000001],[121.9229,29.579620999999999],[121.922025,29.584876999999999],[121.921932,29.586292],[121.925506,29.586724],[121.926985,29.587233000000001],[121.929266,29.590959999999999],[121.929534,29.596456],[121.932464,29.603546000000001],[121.932406,29.605665999999999],[121.931549,29.607956000000001],[121.932794,29.610309999999998],[121.931522,29.614027],[121.933272,29.616785],[121.934274,29.617453999999999],[121.935393,29.620518000000001],[121.93756500000001,29.62199],[121.936286,29.625565999999999],[121.93658499999999,29.628378999999999],[121.936976,29.631027],[121.936277,29.635307000000001],[121.93683,29.653213999999998],[121.93691200000001,29.681303],[121.936187,29.692906000000001],[121.981542,29.688098],[122.027311,29.672249999999998],[122.071681,29.641760000000001],[122.104094,29.592523]]]}},

    {"type":"Feature","id":"16","properties":{"name":"大徐镇","density":getnamevalue( mapTownsScore, 'classname', '大徐镇', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.831304,29.530052000000001],[121.829323,29.535913000000001],[121.829323,29.535913000000001],[121.835649,29.534835000000001],[121.841239,29.533660000000001],[121.844337,29.530847999999999],[121.846217,29.529648999999999],[121.849414,29.532356],[121.850381,29.535709000000001],[121.850033,29.538544999999999],[121.847246,29.541046999999999],[121.84756299999999,29.544281999999999],[121.844077,29.545680999999998],[121.84354,29.547958999999999],[121.844072,29.552316000000001],[121.8424,29.554494999999999],[121.843414,29.555446],[121.84591899999999,29.557189999999999],[121.847008,29.559691000000001],[121.855524,29.558814000000002],[121.858485,29.556588000000001],[121.862166,29.555889000000001],[121.86413400000001,29.556522000000001],[121.86678000000001,29.557836999999999],[121.869111,29.559304000000001],[121.87090499999999,29.559661999999999],[121.87396699999999,29.559549000000001],[121.87608299999999,29.559895000000001],[121.87795800000001,29.561942999999999],[121.880242,29.562424],[121.881034,29.562111999999999],[121.881328,29.558149],[121.88336200000001,29.556802999999999],[121.88579300000001,29.556996000000002],[121.888274,29.561563],[121.88955900000001,29.564762999999999],[121.89084200000001,29.564574],[121.893237,29.560673999999999],[121.898186,29.559502999999999],[121.899169,29.558126000000001],[121.89930099999999,29.555862000000001],[121.900334,29.553847999999999],[121.904251,29.551373000000002],[121.905866,29.551383999999999],[121.907106,29.551974000000001],[121.908331,29.552281000000001],[121.909701,29.552230000000002],[121.909882,29.550953],[121.90924699999999,29.546177],[121.908997,29.544350999999999],[121.910382,29.542959],[121.91163400000001,29.542135999999999],[121.915514,29.540579999999999],[121.918228,29.538291999999998],[121.91915400000001,29.537410000000001],[121.920714,29.536294000000002],[121.92485000000001,29.533387000000001],[121.929789,29.530380000000001],[121.932211,29.528737],[121.93485099999999,29.526592000000001],[121.937166,29.522765],[121.93816099999999,29.521744000000002],[121.93186300000001,29.519711000000001],[121.92849,29.517569000000002],[121.924538,29.512785999999998],[121.923277,29.507705999999999],[121.91995799999999,29.506646],[121.916877,29.505873000000001],[121.916258,29.504121000000001],[121.910813,29.503623000000001],[121.909055,29.500738999999999],[121.906627,29.500710999999999],[121.904973,29.499946999999999],[121.90423199999999,29.498559],[121.902308,29.497805],[121.895602,29.498524],[121.890191,29.498134],[121.887494,29.498114999999999],[121.88469499999999,29.495978000000001],[121.883662,29.494129000000001],[121.881514,29.491495],[121.87515399999999,29.488191],[121.871369,29.487976],[121.86954799999999,29.489339999999999],[121.865584,29.491019000000001],[121.860767,29.488955000000001],[121.861305,29.486104000000001],[121.860473,29.485043000000001],[121.858574,29.485378999999998],[121.85617499999999,29.485938000000001],[121.851952,29.485030999999999],[121.85015199999999,29.485317999999999],[121.847179,29.487262000000001],[121.846159,29.489557999999999],[121.844803,29.491584],[121.842696,29.494765999999998],[121.841663,29.496780999999999],[121.84209199999999,29.499023999999999],[121.843603,29.503627000000002],[121.843563,29.506170000000001],[121.84244200000001,29.506352],[121.839676,29.505887999999999],[121.836682,29.507408999999999],[121.836742,29.508678],[121.835876,29.510826999999999],[121.833708,29.512740999999998],[121.833157,29.514738000000001],[121.83403,29.516117999999999],[121.83550099999999,29.519876],[121.834829,29.522724],[121.832661,29.524637999999999],[121.831304,29.530052000000001]]]}},

    {"type":"Feature","id":"17","properties":{"name":"丹东街道","density":getnamevalue( mapTownsScore, 'classname', '丹东街道', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[122.07026500000001,29.393858000000002],[121.984673,29.379522999999999],[121.96639500000001,29.380206999999999],[121.954476,29.400935],[121.93407000000001,29.419208000000001],[121.928917,29.424306000000001],[121.926106,29.426849000000001],[121.914798,29.436387],[121.91069,29.432939999999999],[121.894655,29.447336],[121.896824,29.449632000000001],[121.898033,29.450759000000001],[121.894952,29.453461000000001],[121.889752,29.457768000000002],[121.886988,29.460014999999999],[121.883824,29.462177000000001],[121.88138499999999,29.464164],[121.88077,29.464852],[121.88023699999999,29.465488000000001],[121.87817200000001,29.467634],[121.874567,29.470576999999999],[121.87116399999999,29.473043000000001],[121.86725800000001,29.475010000000001],[121.869478,29.477246000000001],[121.87214,29.479883999999998],[121.870795,29.481214999999999],[121.867577,29.479312],[121.86506300000001,29.477999000000001],[121.863371,29.480896000000001],[121.860473,29.485043000000001],[121.861305,29.486104000000001],[121.860767,29.488955000000001],[121.865584,29.491019000000001],[121.86954799999999,29.489339999999999],[121.871369,29.487976],[121.87515399999999,29.488191],[121.881514,29.491495],[121.883662,29.494129000000001],[121.88469499999999,29.495978000000001],[121.887494,29.498114999999999],[121.890191,29.498134],[121.895602,29.498524],[121.902308,29.497805],[121.90423199999999,29.498559],[121.904973,29.499946999999999],[121.906627,29.500710999999999],[121.909055,29.500738999999999],[121.910813,29.503623000000001],[121.916258,29.504121000000001],[121.91745299999999,29.497852000000002],[121.917573,29.492605000000001],[121.918088,29.483903999999999],[121.92004,29.470071000000001],[121.92500800000001,29.460549],[121.92417,29.454846],[121.92713999999999,29.450476999999999],[121.93163699999999,29.446705999999999],[121.935616,29.447704999999999],[121.944969,29.451452],[121.950892,29.450085000000001],[121.960042,29.445812],[121.968897,29.443187000000002],[121.976783,29.443711],[121.982089,29.441219],[122.005915,29.421312],[122.04862300000001,29.419696999999999],[122.07026500000001,29.393858000000002]]]}},

    {"type":"Feature","id":"18","properties":{"name":"丹西街道","density":getnamevalue( mapTownsScore, 'classname', '丹西街道', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.928917,29.424306000000001],[121.919427,29.418157999999998],[121.918317,29.416311],[121.91479699999999,29.413139000000001],[121.909352,29.414756000000001],[121.90684299999999,29.415792],[121.899731,29.421951],[121.89779799999999,29.423791000000001],[121.89528900000001,29.424827000000001],[121.88892300000001,29.424118],[121.882339,29.421647],[121.88126800000001,29.418973999999999],[121.880712,29.41581],[121.875764,29.413751000000001],[121.86981900000001,29.410549],[121.863981,29.406752999999998],[121.86108400000001,29.405325999999999],[121.86003100000001,29.405836000000001],[121.856832,29.406542999999999],[121.849633,29.410933],[121.843593,29.41422],[121.842203,29.416156999999998],[121.842332,29.421696000000001],[121.842405,29.423226],[121.844024,29.426116],[121.84695499999999,29.428249999999998],[121.847717,29.430109000000002],[121.845699,29.433012999999999],[121.84566,29.435020000000002],[121.84404000000001,29.437791000000001],[121.845767,29.440086999999998],[121.844937,29.442475999999999],[121.843704,29.444880000000001],[121.844024,29.445930000000001],[121.846406,29.447848],[121.846647,29.452909999999999],[121.847112,29.457021000000001],[121.84682100000001,29.459389999999999],[121.851412,29.462406999999999],[121.85236,29.468150999999999],[121.854032,29.477761000000001],[121.852216,29.482073],[121.851952,29.485030999999999],[121.85617499999999,29.485938000000001],[121.858574,29.485378999999998],[121.860473,29.485043000000001],[121.863371,29.480896000000001],[121.86506300000001,29.477999000000001],[121.867577,29.479312],[121.870795,29.481214999999999],[121.87214,29.479883999999998],[121.869478,29.477246000000001],[121.86725800000001,29.475010000000001],[121.87116399999999,29.473043000000001],[121.874567,29.470576999999999],[121.87817200000001,29.467634],[121.88023699999999,29.465488000000001],[121.88077,29.464852],[121.88138499999999,29.464164],[121.883824,29.462177000000001],[121.886988,29.460014999999999],[121.889752,29.457768000000002],[121.894952,29.453461000000001],[121.898033,29.450759000000001],[121.896824,29.449632000000001],[121.894655,29.447336],[121.91069,29.432939999999999],[121.914798,29.436387],[121.926106,29.426849000000001],[121.928917,29.424306000000001]],[[121.879688,29.443531],[121.87414,29.457189],[121.872181,29.461333],[121.870524,29.464756999999999],[121.864895,29.462662000000002],[121.862973,29.461964999999999],[121.86236700000001,29.461987000000001],[121.860957,29.462098000000001],[121.859375,29.463034],[121.85947899999999,29.462211],[121.859933,29.460424],[121.859753,29.459486999999999],[121.859425,29.458259000000002],[121.85841499999999,29.456880000000002],[121.85760399999999,29.455435000000001],[121.857225,29.454563],[121.856953,29.453098000000001],[121.85716600000001,29.451910000000002],[121.857536,29.449771999999999],[121.858419,29.448501],[121.861321,29.444323000000001],[121.862016,29.443352999999998],[121.863286,29.441713],[121.864744,29.438355999999999],[121.86874,29.440156000000002],[121.869564,29.440480000000001],[121.870377,29.440569],[121.873734,29.441685],[121.879267,29.443193000000001],[121.879688,29.443531]]]}},

    {"type":"Feature","id":"19","properties":{"name":"经开区","density":getnamevalue( mapTownsScore, 'classname', '经开区', 'totalscore' )},
        "geometry":{"type":"Polygon","coordinates":
            [[[121.92295300000001,29.377258000000001],[121.922819,29.374984999999999],[121.92213099999999,29.374113999999999],[121.920862,29.373207000000001],[121.919163,29.373004000000002],[121.916293,29.372712],[121.91393600000001,29.37247],[121.91201,29.373394000000001],[121.910008,29.374475],[121.909285,29.376107999999999],[121.90532,29.375879999999999],[121.902734,29.376379],[121.901475,29.376517],[121.89833,29.379957000000001],[121.89370599999999,29.384443999999998],[121.89255799999999,29.38578],[121.89179300000001,29.386586000000001],[121.891329,29.387274000000001],[121.890648,29.388347],[121.890484,29.388625999999999],[121.89017699999999,29.389241999999999],[121.88982900000001,29.390058],[121.889544,29.390968999999998],[121.889353,29.391559000000001],[121.889309,29.391870000000001],[121.889118,29.393322999999999],[121.88906299999999,29.393937000000001],[121.889054,29.396386],[121.88857400000001,29.396356999999998],[121.884675,29.396111000000001],[121.883484,29.396516999999999],[121.880081,29.398810999999998],[121.879768,29.40071],[121.875502,29.401693000000002],[121.8746,29.402552],[121.874365,29.404748000000001],[121.87429400000001,29.406936999999999],[121.874505,29.408289],[121.875429,29.409655000000001],[121.878272,29.411615000000001],[121.88145900000001,29.413333999999999],[121.884078,29.413650000000001],[121.883906,29.414954999999999],[121.884084,29.416467000000001],[121.884248,29.417570000000001],[121.884202,29.41798],[121.883961,29.418602],[121.884291,29.418790000000001],[121.884401,29.41882],[121.884934,29.418856999999999],[121.88672099999999,29.418880000000001],[121.889796,29.418869999999998],[121.88976700000001,29.418112000000001],[121.88972200000001,29.416815],[121.889668,29.416397],[121.889516,29.414625000000001],[121.889223,29.411854999999999],[121.889088,29.409913],[121.889033,29.408425000000001],[121.889038,29.404485999999999],[121.89720800000001,29.404302999999999],[121.89704,29.391680999999998],[121.898611,29.391794999999998],[121.900099,29.390827000000002],[121.900745,29.389192000000001],[121.903435,29.389365999999999],[121.90331500000001,29.390167999999999],[121.902901,29.394798999999999],[121.912351,29.395159],[121.90996699999999,29.389673999999999],[121.91385200000001,29.389700999999999],[121.916918,29.389921000000001],[121.91921499999999,29.389305],[121.922359,29.387594],[121.922179,29.385974000000001],[121.922516,29.381813999999999],[121.92295300000001,29.377258000000001]],[[121.879688,29.443531],[121.879267,29.443193000000001],[121.873734,29.441685],[121.870377,29.440569],[121.869564,29.440480000000001],[121.86874,29.440156000000002],[121.864744,29.438355999999999],[121.863286,29.441713],[121.862016,29.443352999999998],[121.861321,29.444323000000001],[121.858419,29.448501],[121.857536,29.449771999999999],[121.85716600000001,29.451910000000002],[121.856953,29.453098000000001],[121.857225,29.454563],[121.85760399999999,29.455435000000001],[121.85841499999999,29.456880000000002],[121.859425,29.458259000000002],[121.859753,29.459486999999999],[121.859933,29.460424],[121.85947899999999,29.462211],[121.859375,29.463034],[121.860957,29.462098000000001],[121.86236700000001,29.461987000000001],[121.862973,29.461964999999999],[121.864895,29.462662000000002],[121.870524,29.464756999999999],[121.872181,29.461333],[121.87414,29.457189],[121.879688,29.443531]]]}}

]};

function Score(data){
	var score = 0;
	var sum = 0;
	var len = data.length;
	for (var i=0;i<len;i++){
		var dataname = data[i].name ;
		if      (dataname === '非常不满意') {score= score+ data[i]['value']*20;sum= sum+ data[i]['value'];}
		else if (dataname === '比较不满意') {score= score+ data[i]['value']*40;sum= sum+ data[i]['value'];}
		else if (dataname === '一般')       {score= score+ data[i]['value']*60;sum= sum+ data[i]['value'];}
		else if (dataname === '比较满意')   {score= score+ data[i]['value']*80;sum= sum+ data[i]['value'];}
		else if (dataname === '非常满意')   {score= score+ data[i]['value']*100;sum= sum+ data[i]['value'];};
	};
	return score/sum;
}

